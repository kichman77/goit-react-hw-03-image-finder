{"version":3,"sources":["components/Button/Button.module.css","services/imgApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","App.js","index.js"],"names":["module","exports","q","page","perPage","url","axios","get","then","response","data","hits","Searchbar","getQueryValue","className","onSubmit","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","src","source","openModal","onClick","alt","ImageGallery","galleryItems","map","item","webformatURL","largeImageURL","id","PreLoader","color","height","width","timeout","Modal","closeModal","this","props","window","addEventListener","removeEventListener","Component","Button","getFetchData","styles","btn","App","state","query","modal","loader","loadMore","e","preventDefault","setState","target","elements","search","value","console","log","api","array","length","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","finally","code","nodeName","prevProps","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1471e1da.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\"};","import axios from \"axios\";\nconst key = \"18623552-aad7218af3511e8a6a5692c49\";\n\nconst getFetch = (q, page, perPage) => {\n  let url = `https://pixabay.com/api/?q=${q}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\n  return axios\n    .get(url)\n    .then((response) => {\n      // console.log(response);\n\n      return response.data;\n    })\n    .then((data) => {\n      // console.log(data);\n      return data.hits;\n    })\n    .then((hits) => {\n      // console.log(hits);\n      return hits;\n    });\n};\nexport default {getFetch};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Searchbar = ({ getQueryValue }) => {\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={getQueryValue}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          name=\"search\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  getQueryValue: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ src, source, openModal }) => {\n  return (\n    <li onClick={() => openModal(source)} className=\"ImageGalleryItem\">\n      <img src={src} alt=\"img\" className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  source: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport { v4 as id } from \"uuid\";\nimport PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ galleryItems, openModal }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {galleryItems.map((item) => {\n        // console.log(item);\n        const { webformatURL, largeImageURL } = item;\n        return (\n          <ImageGalleryItem\n            openModal={openModal}\n            key={id()}\n            src={webformatURL}\n            source={largeImageURL}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  galleryItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n  openModal: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nconst PreLoader = () => {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\nexport default PreLoader;\n\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    const { closeModal } = this.props;\n    window.addEventListener(\"click\", closeModal);\n    window.addEventListener(\"keydown\", closeModal);\n  }\n  componentDidUpdate() {\n    const { closeModal } = this.props;\n    window.addEventListener(\"click\", closeModal);\n    window.addEventListener(\"keydown\", closeModal);\n  }\n  componentWillUnmount() {\n    const { closeModal } = this.props;\n    window.removeEventListener(\"click\", closeModal);\n    window.removeEventListener(\"keydown\", closeModal);\n  }\n  render() {\n    const { source } = this.props;\n    return (\n      <div className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src={source} alt=\"img\" />\n        </div>\n      </div>\n    );\n  }\n}\nexport default Modal;\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  source: PropTypes.string.isRequired,\n};\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ getFetchData }) => {\n  return (\n    <button onClick={getFetchData} className={styles.btn} type=\"button\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  getFetchData: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport api from \"./services/imgApi\";\nimport { Searchbar, ImageGallery, Modal, Loader, Button } from \"./components\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    perPage: 12,\n\n    galleryItems: [],\n    source: \"\",\n\n    modal: false,\n    loader: false,\n    loadMore: false,\n  };\n  componentDidMount() {\n    // console.log(\"mount\");\n  }\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(\"update\");\n    if (prevState.query !== this.state.query) {\n      this.getFetchData();\n    }\n  }\n  componentWillUnmount() {}\n\n  getQueryValue = (e) => {\n    e.preventDefault();\n    // console.log(e.target.elements.search.value);\n    this.setState({\n      query: e.target.elements.search.value,\n      galleryItems: [],\n      page: 1,\n    });\n    e.target.elements.search.value = \"\";\n  };\n  getFetchData = () => {\n    const { query, page, perPage } = this.state;\n    console.log(\"page :\", page);\n    this.setState({ loader: true });\n    return api\n      .getFetch(query, page, perPage)\n      .then((array) => {\n        // console.log(array);\n        if (array.length > 0) {\n          this.setState((prevState) => {\n            return {\n              galleryItems: [...prevState.galleryItems, ...array],\n              page: prevState.page + 1,\n              loadMore: true,\n            };\n          });\n        }\n        if (page > 0) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  openModal = (source) => {\n    return this.setState({ source: source, modal: true });\n  };\n  closeModal = (e) => {\n    // console.dir(e.target);\n    if (e.code === \"Escape\" || e.target.nodeName !== \"IMG\") {\n      this.setState({ source: \"\", modal: false });\n    }\n  };\n\n  render() {\n    const { getQueryValue, openModal, closeModal, getFetchData } = this;\n    const { galleryItems, modal, source, loader, loadMore } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar getQueryValue={getQueryValue} />\n        <ImageGallery galleryItems={galleryItems} openModal={openModal} />\n        {loader && <Loader />}\n        {modal && <Modal closeModal={closeModal} source={source} />}\n        {loadMore && galleryItems.length > 0 && (\n          <Button getFetchData={getFetchData} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}